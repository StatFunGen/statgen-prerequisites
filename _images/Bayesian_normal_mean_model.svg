<svg viewBox="0 0 800 800" xmlns="http://www.w3.org/2000/svg">
  <!-- Definitions for reusable elements -->
  <defs>
    <!-- Normal distribution curve function -->
    <path id="normal-curve" d="M0,100 C20,100 30,10 50,10 C70,10 80,100 100,100" fill="none" stroke-width="3" />
    
    <!-- Arrows -->
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="0" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" />
    </marker>
  </defs>
  
  <!-- Background -->
  <rect width="800" height="800" fill="#f8f9fa" />
  
  <!-- Title -->
  <text x="400" y="40" font-family="Arial" font-size="24" text-anchor="middle" font-weight="bold">Bayesian Normal Mean Model</text>
  
  <!-- Three distribution panels -->
  <g transform="translate(50, 80)">
    <!-- Prior Distribution -->
    <rect x="0" y="0" width="200" height="320" fill="#e6f2ff" stroke="#0066cc" stroke-width="2" rx="10" />
    <text x="100" y="30" font-family="Arial" font-size="18" text-anchor="middle" font-weight="bold">Prior</text>
    <text x="100" y="55" font-family="Arial" font-size="14" text-anchor="middle">μ ~ N(μ₀, 1/τ₀)</text>
    
    <!-- Prior distribution curve -->
    <g transform="translate(30, 100)">
      <path d="M0,160 C20,160 40,60 70,20 C100,60 120,160 140,160" fill="#99ccff" stroke="#0066cc" stroke-width="3" fill-opacity="0.5" />
      
      <!-- Mean line -->
      <line x1="70" y1="20" x2="70" y2="170" stroke="#0066cc" stroke-width="2" stroke-dasharray="5,5" />
      <text x="70" y="180" font-family="Arial" font-size="14" text-anchor="middle">μ₀</text>
      
      <!-- Variance indication -->
      <line x1="40" y1="90" x2="100" y2="90" stroke="#0066cc" stroke-width="2" />
      <text x="70" y="82" font-family="Arial" font-size="12" text-anchor="middle">1/τ₀</text>
    </g>
    
    <text x="100" y="310" font-family="Arial" font-size="14" text-anchor="middle" font-style="italic">Initial belief</text>
  </g>

  <!-- Likelihood -->
  <g transform="translate(300, 80)">
    <rect x="0" y="0" width="200" height="320" fill="#fff0e6" stroke="#cc6600" stroke-width="2" rx="10" />
    <text x="100" y="30" font-family="Arial" font-size="18" text-anchor="middle" font-weight="bold">Likelihood</text>
    <text x="100" y="55" font-family="Arial" font-size="14" text-anchor="middle">Y | μ ~ N(μ, 1/τ)</text>
    
    <!-- Likelihood curve -->
    <g transform="translate(30, 100)">
      <path d="M0,160 C20,160 20,70 80,35 C130,60 130,160 140,160" fill="#ffcc99" stroke="#cc6600" stroke-width="3" fill-opacity="0.5" />
      
      <!-- Data point -->
      <line x1="80" y1="40" x2="80" y2="170" stroke="#cc6600" stroke-width="2" stroke-dasharray="5,5" />
      <text x="80" y="180" font-family="Arial" font-size="14" text-anchor="middle">Y</text>
      
      <!-- Variance indication -->
      <line x1="45" y1="90" x2="120" y2="90" stroke="#cc6600" stroke-width="2" />
      <text x="80" y="82" font-family="Arial" font-size="12" text-anchor="middle">1/τ</text>
    </g>
    
    <text x="100" y="310" font-family="Arial" font-size="14" text-anchor="middle" font-style="italic">Data evidence</text>
  </g>

  <!-- Posterior -->
  <g transform="translate(550, 80)">
    <rect x="0" y="0" width="200" height="320" fill="#e6ffe6" stroke="#009900" stroke-width="2" rx="10" />
    <text x="100" y="30" font-family="Arial" font-size="18" text-anchor="middle" font-weight="bold">Posterior</text>
    <text x="100" y="55" font-family="Arial" font-size="14" text-anchor="middle">μ | Y ~ N(μ₁, 1/τ₁)</text>
    
    <!-- Posterior curve -->
    <g transform="translate(30, 100)">
      <path d="M0,160 C20,160 30,100 85,10 C120,60 120,160 140,160" fill="#99e699" stroke="#009900" stroke-width="3" fill-opacity="0.5" />
      
      <!-- Posterior mean -->
      <line x1="85" y1="10" x2="85" y2="170" stroke="#009900" stroke-width="2" stroke-dasharray="5,5" />
      <text x="85" y="180" font-family="Arial" font-size="14" text-anchor="middle">μ₁</text>
      
      <!-- Variance indication -->
      <line x1="50" y1="70" x2="110" y2="70" stroke="#009900" stroke-width="2" />
      <text x="75" y="62" font-family="Arial" font-size="12" text-anchor="middle">1/τ₁</text>
    </g>
    
    <text x="100" y="310" font-family="Arial" font-size="14" text-anchor="middle" font-style="italic">Updated belief</text>
  </g>

  <!-- Connection arrows -->
  <g>
    <!-- Prior to Posterior -->
    <!-- <line x1="250" y1="200" x2="300" y2="200" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)" /> -->
    <g transform="translate(275, 250)">
  <!-- Horizontal line of the plus -->
  <line x1="-15" y1="0" x2="15" y2="0" stroke="#333" stroke-width="2" />
  <!-- Vertical line of the plus -->
  <line x1="0" y1="-15" x2="0" y2="15" stroke="#333" stroke-width="2" />
</g>
    <line x1="500" y1="250" x2="530" y2="250" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)" />
  </g>

  <!-- Formula section -->
  <g transform="translate(50, 420)">
    <rect x="0" y="0" width="700" height="340" fill="#f0f0f0" stroke="#333" stroke-width="1" rx="5" />
    
    <!-- Formulas -->
    <text x="350" y="25" font-family="Arial" font-size="16" text-anchor="middle">
      <tspan>τ₁ = τ + τ₀</tspan>
      <tspan x="350" dy="25">μ₁ = (τY + τ₀μ₀)/(τ + τ₀) = w·Y + (1-w)·μ₀ where w = τ/(τ+τ₀)</tspan>
    </text>
    <g transform="translate(0, 60)">
    <rect x="30" y="20" width="650" height="240" fill="white" stroke="#333" stroke-width="1" rx="5" />
    
    <!-- Coordinate system -->
    <line x1="50" y1="200" x2="650" y2="200" stroke="#888" stroke-width="1" /> <!-- x-axis -->
    <line x1="50" y1="50" x2="50" y2="200" stroke="#888" stroke-width="1" /> <!-- y-axis -->
    
    <!-- x-axis labels -->
    <text x="120" y="220" font-family="Arial" font-size="12" text-anchor="middle">155</text>
    <text x="200" y="220" font-family="Arial" font-size="12" text-anchor="middle">160</text>
    <text x="280" y="220" font-family="Arial" font-size="12" text-anchor="middle">165</text>
    <text x="360" y="220" font-family="Arial" font-size="12" text-anchor="middle">170</text>
    <text x="440" y="220" font-family="Arial" font-size="12" text-anchor="middle">175</text>
    <text x="520" y="220" font-family="Arial" font-size="12" text-anchor="middle">180</text>
    <text x="600" y="220" font-family="Arial" font-size="12" text-anchor="middle">185</text>
    
    <!-- Title for axis -->
    <text x="350" y="240" font-family="Arial" font-size="14" text-anchor="middle">Height (cm)</text>
    <text x="30" y="140" font-family="Arial" font-size="14" text-anchor="middle" transform="rotate(-90, 30, 125)">Density</text>

    <!-- Prior distribution curve - wider -->
    <path d="M 50,200 
             Q 80,200 110,190 
             Q 150,170 170,140
             Q 180,120 200,100 
             Q 220,120 230,140
             Q 250,170 290,190
             Q 320,200 350,200
             Q 400,200 650,200" 
          fill="none" stroke="#0066cc" stroke-width="2.5" />
    
    <!-- Likelihood curve - medium width and shifted to right -->
    <path d="M 50,200
             Q 100,200 150,200
             Q 200,198 250,190 
             Q 300,170 320,130 
             Q 340,100 360,90
             Q 380,100 400,130 
             Q 420,170 470,190
             Q 520,198 570,200
             Q 600,200 650,200" 
          fill="none" stroke="#cc6600" stroke-width="2.5" />
    
    <!-- Posterior distribution curve - narrower and between the two in position -->
    <path d="M 50,200 
             Q 100,200 160,200 
             Q 200,199 240,195 
             Q 270,180 295,140
             Q 310,100 320,70 
             Q 330,60 335,60
             Q 340,60 350,70
             Q 360,100 380,140
             Q 400,180 430,195
             Q 480,199 540,200
             Q 600,200 650,200" 
          fill="none" stroke="#009900" stroke-width="3" />
    
    <!-- Data points on x-axis (positions approximated based on the scale) -->
    <circle cx="120" cy="200" r="4" fill="#cc6600" /> <!-- 155 -->
    <circle cx="140" cy="200" r="4" fill="#cc6600" /> <!-- 158 -->
    <circle cx="200" cy="200" r="4" fill="#cc6600" /> <!-- 160 -->
    <circle cx="520" cy="200" r="4" fill="#cc6600" /> <!-- 180 -->
    <circle cx="600" cy="200" r="4" fill="#cc6600" /> <!-- 193 (positioned at 185 due to scale) -->
    
    <!-- Distribution means -->
    <line x1="200" y1="50" x2="200" y2="200" stroke="#0066cc" stroke-width="1" stroke-dasharray="5,3" /> <!-- Prior mean at 160 -->
    <line x1="360" y1="50" x2="360" y2="200" stroke="#cc6600" stroke-width="1" stroke-dasharray="5,3" /> <!-- Data mean at ~169.2 -->
    <line x1="335" y1="50" x2="335" y2="200" stroke="#009900" stroke-width="1" stroke-dasharray="5,3" /> <!-- Posterior mean at ~169.33 -->
    
    <!-- Legend -->
    <rect x="520" y="70" width="120" height="80" fill="white" fill-opacity="0.8" rx="5" ry="5" stroke="#888" stroke-width="0.5" />
    <line x1="530" y1="85" x2="550" y2="85" stroke="#0066cc" stroke-width="2.5" />
    <text x="560" y="90" font-family="Arial" font-size="12">Prior</text>
    <line x1="530" y1="110" x2="550" y2="110" stroke="#cc6600" stroke-width="2.5" />
    <text x="560" y="115" font-family="Arial" font-size="12">Likelihood</text>
    <line x1="530" y1="135" x2="550" y2="135" stroke="#009900" stroke-width="3" />
    <text x="560" y="140" font-family="Arial" font-size="12">Posterior</text>
  </g>
  </g>

  <!-- Key insights -->
  <g transform="translate(-70, 80)">
    <path d="M250,60 L250,80" stroke="#333" stroke-width="1.5" stroke-dasharray="3,3" />
    <!-- <circle cx="150" cy="30" r="20" fill="#fff" stroke="#333" stroke-width="1.5" /> -->
    <!-- <text x="150" y="35" font-family="Arial" font-size="12" text-anchor="middle">1</text> -->
    <text x="190" y="95" font-family="Arial" font-size="11" text-anchor="start">Higher prior precision (τ₀)</text>
    <text x="190" y="110" font-family="Arial" font-size="11" text-anchor="start">= more confidence in prior</text>
  </g>

  <g transform="translate(170, 80)">
    <path d="M270,60 L270,80" stroke="#333" stroke-width="1.5" stroke-dasharray="3,3" />
    <!-- <circle cx="150" cy="30" r="20" fill="#fff" stroke="#333" stroke-width="1.5" /> -->
    <!-- <text x="150" y="35" font-family="Arial" font-size="12" text-anchor="middle">2</text> -->
    <text x="190" y="95" font-family="Arial" font-size="11" text-anchor="start">Higher data precision (τ)</text>
    <text x="190" y="110" font-family="Arial" font-size="11" text-anchor="start">= more weight on data</text>
  </g>

  <g transform="translate(450, 80)">
    <path d="M240,60 L240,80" stroke="#333" stroke-width="1.5" stroke-dasharray="3,3" />
    <!-- <circle cx="150" cy="30" r="20" fill="#fff" stroke="#333" stroke-width="1.5" /> -->
    <!-- <text x="150" y="35" font-family="Arial" font-size="12" text-anchor="middle">3</text> -->
    <text x="180" y="95" font-family="Arial" font-size="11" text-anchor="start">Posterior precision (τ₁)</text>
    <text x="170" y="110" font-family="Arial" font-size="11" text-anchor="start">= τ + τ₀ (always improves)</text>
  </g>

  <!-- Mathematical operation illustration -->
  <g transform="translate(400, 265)">
    <text x="0" y="150" font-family="Arial" font-size="14" text-anchor="middle">Posterior ∝ Prior × Likelihood</text>
  </g>
</svg>